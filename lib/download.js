!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.download=t()}(this,function(){return function t(e,n,o){var a,r=window,i="application/octet-stream",d=o||i,c=e,e=!n&&!o&&c,l=document.createElement("a"),o=function(e){return String(e)},s=r.Blob||r.MozBlob||r.WebKitBlob||o,u=n||"download",s=s.call?s.bind(r):Blob;if("true"===String(this)&&(d=(c=[c,d])[0],c=c[1]),e&&e.length<2048&&(u=e.split("/").pop().split("?")[0],l.href=e,-1!==l.href.indexOf(e))){var f=new XMLHttpRequest;return f.open("GET",e,!0),f.responseType="blob",f.onload=function(e){t(e.target.response,u,i)},setTimeout(function(){f.send()},0),f}if(/^data\:[\w+\-]+\/[\w+\-]+[,;]/.test(c)){if(!(2096103.424<c.length&&s!==o))return navigator.msSaveBlob?navigator.msSaveBlob(p(c),u):m(c);d=(c=p(c)).type||i}function p(e){for(var t=e.split(/[:;,]/),e=t[1],n=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),o=n.length,a=0,r=new Uint8Array(o);a<o;++a)r[a]=n.charCodeAt(a);return new s([r],{type:e})}function m(e,t){if("download"in l)return l.href=e,l.setAttribute("download",u),l.className="download-js-link",l.innerHTML="downloading...",l.style.display="none",document.body.appendChild(l),setTimeout(function(){l.click(),document.body.removeChild(l),!0===t&&setTimeout(function(){r.URL.revokeObjectURL(l.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return e=e.replace(/^data:([\w\/\-\+]+)/,i),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),t||(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,i)),n.src=e,setTimeout(function(){document.body.removeChild(n)},333)}if(a=c instanceof s?c:new s([c],{type:d}),navigator.msSaveBlob)return navigator.msSaveBlob(a,u);if(r.URL)m(r.URL.createObjectURL(a),!0);else{if("string"==typeof a||a.constructor===o)try{return m("data:"+d+";base64,"+r.btoa(a))}catch(e){return m("data:"+d+","+encodeURIComponent(a))}(o=new FileReader).onload=function(e){m(this.result)},o.readAsDataURL(a)}return!0}});